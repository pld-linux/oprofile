diff -up oprofile-0.9.4/configure.in.basename oprofile-0.9.4/configure.in
--- oprofile-0.9.4/configure.in.basename	2009-04-08 13:43:42.000000000 -0400
+++ oprofile-0.9.4/configure.in	2009-04-08 13:43:45.000000000 -0400
@@ -15,6 +15,7 @@ AC_INIT(libop/op_config.h)
 AM_INIT_AUTOMAKE(oprofile, 0.9.4)
 AM_CONFIG_HEADER(config.h)
 
+AC_CHECK_DECLS([basename], [], [], [[#include <libgen.h>]])
 AC_PROG_RANLIB
 AC_PROG_LIBTOOL
 
